diff -up linux-2.6.9/fs/namei.c.orig linux-2.6.9/fs/namei.c
--- linux-2.6.9/fs/namei.c.orig	2007-11-29 15:52:25.000000000 +0100
+++ linux-2.6.9/fs/namei.c	2007-11-29 15:52:51.000000000 +0100
@@ -668,8 +668,10 @@ need_lookup:
 	goto done;
 
 need_revalidate:
-	if (atomic)
+	if (atomic) {
+		dput(dentry);
 		return -EWOULDBLOCKIO;
+	}
 	dentry = do_revalidate(dentry, nd);
 	if (!dentry)
 		goto need_lookup;
