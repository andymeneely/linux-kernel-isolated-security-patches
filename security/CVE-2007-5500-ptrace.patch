--- linux-2.6.9/kernel/exit.c.orig	2008-01-09 16:02:46.000000000 +0100
+++ linux-2.6.9/kernel/exit.c	2008-01-09 16:02:49.000000000 +0100
@@ -1184,8 +1184,7 @@ static int wait_task_stopped(task_t *p, 
 		int why = (p->ptrace & PT_PTRACED) ? CLD_TRAPPED : CLD_STOPPED;
 
 		exit_code = p->exit_code;
-		if (unlikely(!exit_code) ||
-		    unlikely(p->state > TASK_STOPPED))
+		if (unlikely(!exit_code) || unlikely(p->exit_state))
 			goto bail_ref;
 		return wait_noreap_copyout(p, pid, uid,
 					   why, (exit_code << 8) | 0x7f,